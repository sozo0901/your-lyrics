<div>
  <h3><%= @user.name %></h3>
  <!--attachment_image_tag 保存先インスタンス名, :保存先カラム名, :サイズ（横幅,高さ）, 画像拡張子, 代替画像-->
  <!--実際のカラムは「image_id」だが、_idを外したカラム名（image）で指定している。（refileの仕様）。-->
  <%= attachment_image_tag @user, :image, :fill, 100, 100, format:'jpeg', fallback:"no_image.jpg" %>
  <% if @user.id == current_user.id %>
    <p><%= link_to "プロフィール編集", edit_user_path(@user) %></p>
  <% end %>
</div>
<!--コントローラから渡された@posts変数内から1つずつ取り出して、post変数へ格納。-->
<% @posts.each do |post| %>
<div>
  <!--link_toでは、doからendの間が、aタグで囲まれた状態になる。-->
  <!--結果、attachment_image_tagは、aタグに囲まれたimgタグになる。-->
  <%= link_to post_path(post.id) do %>
    <!--attachment_image_tagは、refile側が用意したヘルパーで、imgタグを作成してくれる。-->
    <!--post変数のimage_idに保存された画像のimgタグを生成。-->
    <%= attachment_image_tag post, :image %>
  <% end %>
  <p><%= attachment_image_tag post.user, :image, :fill, 60, 60, fallback:"no_image.jpg" %></p>
  <p>タイトル：<%= post.title %></p>
  <P>歌詞：<%= post.body %></P>
  <p>この歌詞を書いたユーザー：<%= post.user.name %></p>
</div>
<% end %>